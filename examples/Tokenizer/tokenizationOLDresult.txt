
./tokenization
╔═══════════════════════════════════════════════════════════╗
║       РАСШИРЕННАЯ БИБЛИОТЕКА ТОКЕНИЗАЦИИ ДЛЯ NIM          ║
╚═══════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────┐
│  1. BPE (Byte Pair Encoding) - С ПРОБЕЛАМИ И РЕГИСТРОМ  │
└─────────────────────────────────────────────────────────┘
BPE: Начальный размер словаря: 113
BPE: Целевой размер: 500
BPE: Итерация 100, размер словаря: 213
BPE: Итерация 200, размер словаря: 313
BPE: Итерация 300, размер словаря: 413
BPE: Обучение завершено. Финальный размер: 500
Текст:         княгиня Софья Васильевна была худая длинная
Токены (BPE):  @[2, 121, 498, 343, 335, 359, 20, 46, 10, 161, 61, 128, 45, 180, 133, 61, 3]
Декодирование: княгиня Софья Васильевна была худая длинная

============================================================
МЕТРИКИ ТОКЕНИЗАТОРА
============================================================
Размер словаря:           500
Коэффициент сжатия:       4.18 символов/токен
Токенов на слово:         2.70
Использование словаря:    94.00%
Процент <unk> токенов:    0.00%
============================================================

┌─────────────────────────────────────────────────────────┐
│  2. WordPiece (BERT-style) - С СОХРАНЕНИЕМ РЕГИСТРА     │
└─────────────────────────────────────────────────────────┘
WordPiece: Обучен. Размер словаря: 500
Текст:              княгиня Софья Васильевна была худая длинная
Токены (WordPiece): @[2, 71, 252, 353, 252, 34, 410, 126, 29, 369, 487, 83, 187, 112, 43, 339, 206, 28, 176, 191, 206, 3]
Декодирование:      княгиня Софья Васильевна была худая длинная

============================================================
МЕТРИКИ ТОКЕНИЗАТОРА
============================================================
Размер словаря:           500
Коэффициент сжатия:       3.55 символов/токен
Токенов на слово:         3.18
Использование словаря:    80.00%
Процент <unk> токенов:    0.77%
============================================================

┌─────────────────────────────────────────────────────────┐
│  3. SentencePiece (Unigram) - С ПРОБЕЛАМИ И РЕГИСТРОМ   │
└─────────────────────────────────────────────────────────┘
SentencePiece: Обучен. Размер словаря: 500
Текст:                 княгиня Софья Васильевна была худая длинная
Токены (SentencePiece):@[2, 20, 296, 29, 152, 51, 385, 8, 409, 25, 27, 311, 10, 428, 374, 10, 172, 39, 77, 381, 329, 18, 124, 186, 207, 3]
Декодирование:         княгиня Софья Васильевна была худая длинная

============================================================
МЕТРИКИ ТОКЕНИЗАТОРА
============================================================
Размер словаря:           500
Коэффициент сжатия:       1.81 символов/токен
Токенов на слово:         6.26
Использование словаря:    14.00%
Процент <unk> токенов:    2.15%
============================================================

┌─────────────────────────────────────────────────────────┐
│ 4. БАТЧ-ОБРАБОТКА                                       │
└─────────────────────────────────────────────────────────┘
Батч текстов:
  [0] княгиня Софья Васильевна
  [1] доктор с намасленной бородой
  [2] Колосов у столика

Input IDs:
  [0] @[2, 121, 498, 343, 335, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [1] @[2, 228, 74, 114, 29, 113, 146, 96, 170, 45, 226, 100, 322, 140, 245, 100, 3, 0, 0, 0]
  [2] @[2, 339, 154, 382, 193, 155, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

Attention Mask:
  [0] @[1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [1] @[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0]
  [2] @[1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

Lengths: @[6, 17, 7]

Декодированные тексты:
  [0] княгиня Софья Васильевна
  [1] доктор с намасленной бородой
  [2] Колосов у столика

┌─────────────────────────────────────────────────────────┐
│ 5. СПЕЦИАЛЬНЫЕ ТОКЕНЫ                                   │
└─────────────────────────────────────────────────────────┘
PAD token:  <pad> (ID: 0)
UNK token:  <unk> (ID: 1)
BOS token:  <s> (ID: 2)
EOS token:  </s> (ID: 3)
MASK token: <mask> (ID: 6)

Токенизатор сохранён в: bpe_enhanced.json
Токенизатор сохранён в: wordpiece_enhanced.json
Токенизатор сохранён в: sentencepiece_enhanced.json


┌─────────────────────────────────────────────────────────┐
│ 6. ОЧИСТКА И НОРМАЛИЗАЦИЯ ТЕКСТА                        │
└─────────────────────────────────────────────────────────┘
Исходный текст:
    Привет! Это <b>HTML</b> текст с URL: https://example.com 
    и email: test@example.com 🎉 с emoji и   лишними   пробелами...
    Также есть "кавычки" и тире—вот так.
  

После базовой очистки:
Привет! Это HTML текст с URL: и email: с emoji и лишними пробелами... Также есть "кавычки" и тире-вот так.

После полной очистки (без пунктуации):
Привет Это HTML текст с URL и email с emoji и лишними пробелами Также есть кавычки и тире вот так

Разбиение на предложения:
  [0] Первое предложение.
  [1] Второе предложение!
  [2] Третье?

Удаление акцентов:
  café → cafe
  résumé → resume

Статистика текста:
  Слов: 7
  Символов: 98
  Символов без пробелов: 92
  Предложений: 2

┌─────────────────────────────────────────────────────────┐
│ 7. ДОПОЛНИТЕЛЬНЫЕ УТИЛИТЫ ТОКЕНИЗАЦИИ                   │
└─────────────────────────────────────────────────────────┘
Размер словаря BPE: 500

Разбиение на подслова:
  княгиня Софья Васильевна была худая длинная
  → @["Ġк", "нягиня", "ĠСофья", "ĠВасильевна", "Ġбыла", "Ġ", "х", "у", "да", "я", "Ġд", "л", "ин", "на", "я"]

Частотный анализ токенов:
  Топ-10 токенов:
    1. 'Ġи' - 170 раз
    2. ',' - 167 раз
    3. 'е' - 149 раз
    4. '.' - 130 раз
    5. 'Ġв' - 126 раз
    6. 'Ġ' - 124 раз
    7. 'Ġс' - 112 раз
    8. 'Ġне' - 109 раз
    9. 'д' - 103 раз
    10. 'Ġпо' - 103 раз

Сравнение токенизаторов:
  BPE: 15 токенов (5.40 символов/токен)
  WordPiece: 20 токенов (4.05 символов/токен)
  SentencePiece: 24 токенов (3.38 символов/токен)

Оценка количества токенов (без токенизации):
  Текст: 81 символов
  Оценка: ~27 токенов
  Реально: 17 токенов

Валидация токенизатора:
  • ✓ Токенизатор прошёл все проверки

┌─────────────────────────────────────────────────────────┐
│ 8. МАСКИРОВАНИЕ ТОКЕНОВ (для MLM задач)                 │
└─────────────────────────────────────────────────────────┘
Исходные токены:
  @[2, 121, 498, 343, 335, 359, 20, 46, 10, 161, 61, 128, 45, 180, 133, 61, 3]
  княгиня Софья Васильевна была худая длинная

Маскированные токены (30% вероятность):
  @[2, 121, 498, 6, 335, 359, 20, 6, 10, 161, 6, 128, 45, 180, 133, 6, 3]
  княгиня Васильевна была уда длинна


╔═══════════════════════════════════════════════════════════╗
║               ТЕСТИРОВАНИЕ ЗАВЕРШЕНО!                     ║
╚═══════════════════════════════════════════════════════════╝





